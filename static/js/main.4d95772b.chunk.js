(this["webpackJsonpmind-salad-bar"]=this["webpackJsonpmind-salad-bar"]||[]).push([[0],{115:function(e,t,a){e.exports={bar:"ToolsBar_bar__2ngWq",multi:"ToolsBar_multi__1L9p2",sortBy:"ToolsBar_sortBy__2M_jv"}},116:function(e,t,a){e.exports={active:"Salads_active__iKg9C",newBtn:"Salads_newBtn__2QiAz",items:"Salads_items__2hVdH"}},117:function(e,t,a){e.exports={grid:"SaladForm_grid__13V4c",ingredientsLabel:"SaladForm_ingredientsLabel__2H7P0",checkList:"SaladForm_checkList__2kR0X"}},160:function(e,t,a){e.exports={formButtons:"FormButtons_formButtons__1sIKx",saveBtn:"FormButtons_saveBtn__2FFFI"}},161:function(e,t,a){e.exports={newBtn:"Ingredients_newBtn__2ud5G",items:"Ingredients_items__fIyl9"}},243:function(e,t,a){e.exports={button:"DeletePopup_button__39EWH"}},244:function(e,t,a){e.exports={item:"SaladIngredientsList_item__OP-oQ"}},245:function(e,t,a){e.exports=a.p+"static/media/salad1.87450046.png"},246:function(e,t,a){e.exports=a.p+"static/media/salad2.f1c18255.png"},248:function(e,t,a){e.exports={loader:"Loader_loader__2Mz6P"}},250:function(e,t,a){e.exports={topBar:"TopBar_topBar__2X0kP"}},251:function(e,t,a){e.exports={grid:"FormInfo_grid__1NDzZ"}},252:function(e,t,a){e.exports={imageColumn:"CheckListItem_imageColumn__3LJq3"}},253:function(e,t,a){e.exports={form:"IngredientsForm_form__29CYF"}},254:function(e,t,a){e.exports=a.p+"static/media/veg.49f5403f.png"},268:function(e,t,a){e.exports=a(541)},51:function(e,t,a){e.exports={grid:"Layout_grid__3x4r0",firstRow:"Layout_firstRow__2F-f5",topSecondColumn:"Layout_topSecondColumn__2_uxv",topFirstColumn:"Layout_topFirstColumn__28OUE",secondRow:"Layout_secondRow__1Lt8W",bottomLeftColumn:"Layout_bottomLeftColumn__1C-fk",bottom:"Layout_bottom__3XpwW"}},540:function(e,t,a){},541:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),o=a(27),i=a.n(o),u=a(110),s=a(71),m=a(19),d=a(113),f=a.n(d),b=a(9),p=a.n(b),g=a(16),v=a(8),E=a(12),h=a(33),O=a.n(h),j=a(70),_=a.n(j),w=a(31),x=a.n(w),C=a(59),k=a.n(C),y=a(44),I=a.n(y),N=a(114),S=a.n(N);var L=function(){var e=Object(n.useRef)(!1);return Object(n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(t,a){e.current&&t(a)}};var B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=L(),c=Object(n.useState)(!1),l=Object(v.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)(!1),s=Object(v.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){function n(){return(n=Object(g.a)(p.a.mark((function n(){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=13;break}if(n.prev=1,d(!0),c=null,!a()){n.next=8;break}return n.next=7,e();case 7:c=n.sent;case 8:c&&t();case 9:return n.prev=9,r(d,!1),r(i,!1),n.finish(9);case 13:case"end":return n.stop()}}),n,null,[[1,,9,13]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[o]),[m,i.bind(null,!0)]},P=a(243),F=a.n(P),R=function(e){var t=e.children,a=e.onDelete,c=Object(n.useState)(!1),l=Object(v.a)(c,2),o=l[0],i=l[1],u=function(){return i(!1)},s=B(a,u),m=Object(v.a)(s,2),d=m[0],f=m[1];return r.a.createElement(r.a.Fragment,null,Object(n.cloneElement)(t,{onClick:function(){return i(!0)}}),r.a.createElement(S.a,{size:"mini",closeIcon:!0,open:o,onClose:u},r.a.createElement(S.a.Content,null,"Are you sure?"),r.a.createElement(S.a.Actions,null,r.a.createElement(x.a,{onClick:f,className:F.a.button,loading:d},"Delete"))))},D=a(50),T=a(85),M=a.n(T),q=function(e){var t=e.num,a=Object(D.a)(e,["num"]);return r.a.createElement(M.a,a,r.a.createElement(M.a.Value,null,t),r.a.createElement(M.a.Label,null,"Calories"))},A=a(73),z=a.n(A),H=function(e,t){var a=z.a.item,n=t||"",r=e&&!n?z.a.hover:"";return"".concat(a," ").concat(n," ").concat(r)},W=function(e){var t=e.onClick,a=e.activeClassName,n=e.onMouseEnter,c=e.onMouseLeave,l=e.image,o=e.title,i=e.description,u=e.statistic,s=e.tags,m=e.hovered,d=e.onEdit,f=e.onDelete;return r.a.createElement(O.a,{onClick:t,className:H(m,a),onMouseEnter:n,onMouseLeave:c},r.a.createElement(O.a.Image,{src:l,className:z.a.image}),r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,o),i&&r.a.createElement(O.a.Description,null,i),r.a.createElement(O.a.Extra,null,r.a.createElement(q,{num:u,floated:"right"}),s.map((function(e){return r.a.createElement(I.a,{key:e},e)})))),m&&r.a.createElement("div",{className:z.a.icons},r.a.createElement(k.a,{name:"pencil",size:"large",onClick:d}),r.a.createElement(R,{onDelete:f},r.a.createElement(k.a,{name:"trash alternate",size:"large",className:z.a.deleteIcon}))))};W.defaultProps={onClick:void 0,activeClassName:null,description:null,onDelete:void 0};var X=W,G=a(60),J=a.n(G),Q=a(68),V=a.n(Q),K=a(244),U=a.n(K),Z=function(e){var t=e.activeSalad;return r.a.createElement(J.a,{ordered:!0},t.ingredients.map((function(e){var t=e.id,a=e.name,n=e.calories,c=e.image,l=e.tags;return r.a.createElement(J.a.Item,{key:t,className:U.a.item},r.a.createElement(V.a,{avatar:!0,src:c}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,a),r.a.createElement(J.a.Description,null,l.map((function(e){return r.a.createElement(I.a,{key:e,size:"mini"},e)})))),r.a.createElement(J.a.Content,null,r.a.createElement(q,{num:n,size:"mini"})))})))},Y=a(153),$=a.n(Y),ee=a(112),te=a.n(ee),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object(n.useState)(e),r=Object(v.a)(a,2),c=r[0],l=r[1];Object(n.useEffect)((function(){[null,void 0].includes(t)||l(t)}),[t]);var o=function(e,t){var a=t.value;return l(a)};return[c,o,l]},ne="asc",re=a(115),ce=a.n(re),le=function(e){var t=e.data,a=e.storeFilteredData,c=e.filterFn,l=ae(),o=Object(v.a)(l,2),i=o[0],u=o[1],s=ae(),m=Object(v.a)(s,2),d=m[0],f=m[1],b=Object(n.useMemo)((function(){var e=[];return t&&t.length&&(e=t.reduce((function(e,t){return e.concat(t.tags)}),[])),Object(E.uniq)(e)}),[t]),p=ae("calories"),g=Object(v.a)(p,2),h=g[0],O=g[1],j=Object(n.useState)("desc"),_=Object(v.a)(j,2),w=_[0],C=_[1];Object(n.useEffect)((function(){a(t)}),[t]),Object(n.useEffect)((function(){t&&t.length&&a(c(t,{searchTerm:i,tagFilter:d,filterBy:h,sortType:w}))}),[i,d,h,w]);return r.a.createElement("div",{className:ce.a.bar},r.a.createElement($.a,{placeholder:"Search by name...",icon:"search",value:i,onChange:u}),r.a.createElement(te.a,{placeholder:"Filter by tag...",selection:!0,options:b.map((function(e){return{key:e,text:e,value:e}})),value:d,onChange:f,disabled:!b.length,clearable:!0}),r.a.createElement("div",{className:ce.a.multi},r.a.createElement("div",{className:ce.a.sortBy},"Sort by"),r.a.createElement(te.a,{inline:!0,options:[{key:"calories",text:"calories",value:"calories"},{key:"name",text:"name",value:"name"}],value:h,onChange:O}),r.a.createElement(x.a,{icon:"sort ".concat("calories"===h?"numeric":"alphabet"," ").concat(w===ne?"down":"up"),circular:!0,onClick:function(){return C("desc"===w?ne:"desc")}})))};le.defaultProps={data:null};var oe=le,ie=function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/salads");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/salads/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/salads",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(g.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(D.a)(t,["id"]),e.next=3,i.a.put("/salads/".concat(a),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/salads/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=a(10),be=a.n(fe),pe=a(51),ge=a.n(pe),ve=function(e){var t=e.title,a=e.tools,n=e.bottomLeft,c=e.bottomRight,l=e.bottom;return r.a.createElement(be.a,{celled:!0,className:ge.a.grid},r.a.createElement(be.a.Row,{className:ge.a.firstRow},r.a.createElement(be.a.Column,{width:11,className:ge.a.topFirstColumn},t),r.a.createElement(be.a.Column,{width:16,className:ge.a.topSecondColumn},a)),r.a.createElement(be.a.Row,{className:ge.a.secondRow},l?r.a.createElement(be.a.Column,{className:ge.a.bottom},l):r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a.Column,{width:11,className:ge.a.bottomLeftColumn},n),r.a.createElement(be.a.Column,{width:5},c))))};ve.defaultProps={bottomLeft:null,bottomRight:null,bottom:null,tools:null};var Ee=ve,he=a(245),Oe=a.n(he),je=a(246),_e=a.n(je),we=a(116),xe=a.n(we),Ce=function(e){return e.reduce((function(e,t){return e+t.calories}),0)},ke=function(e,t){var a=t.searchTerm,n=t.tagFilter,r=t.filterBy,c=t.sortType;return e.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).filter((function(e){var t=e.tags;return!n||t.includes(n)})).sort((function(e,t){var a=0;if("calories"===r){var n=Ce(e.ingredients),l=Ce(t.ingredients);a=c===ne?n-l:l-n}else{var o=e.name.toLowerCase(),i=t.name.toLowerCase();a=c===ne?o.localeCompare(i):i.localeCompare(o)}return a}))};var ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=L(),r=Object(n.useState)(!t),c=Object(v.a)(r,2),l=c[0],o=c[1],i=Object(n.useState)(null),u=Object(v.a)(i,2),s=u[0],d=u[1],f=Object(n.useState)(!0),b=Object(v.a)(f,2),h=b[0],O=b[1],j=Object(n.useState)(!t),_=Object(v.a)(j,2),w=_[0],x=_[1],C=Object(m.g)(),k=function(e){a(O,!!e),a(o,!0)};return Object(n.useEffect)((function(){function t(){return(t=Object(g.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=17;break}return t.prev=1,h&&x(!0),t.next=5,e();case 5:n=t.sent,a(d,n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),404===Object(E.get)(t.t0,"response.status")&&C.push("/salads");case 12:return t.prev=12,a(x,!1),a(o,!1),a(O,!0),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[1,9,12,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l]),[s,w,k,d]};var Ie=function(){var e=Object(n.useState)(null),t=Object(v.a)(e,2),a=t[0],r=t[1];return[a,function(e){return function(){return r(e)}},function(){return r(null)}]},Ne=a(152),Se=a.n(Ne),Le=a(249),Be=a.n(Le),Pe=a(248),Fe=a.n(Pe),Re=function(){return r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Be.a,{size:"large",className:Fe.a.loader}))},De=a(46),Te=a.n(De),Me=function(e){var t=e.filteredData,a=e.data,n=e.itemName;return r.a.createElement(r.a.Fragment,null,(!a||!a.length)&&r.a.createElement(Te.a,null,"Create new ".concat(n.toLowerCase())),0===t.length&&a&&0!==a.length&&r.a.createElement(Te.a,null,"No results found"))};Me.defaultProps={data:null};var qe=Me,Ae=a(250),ze=a.n(Ae),He=function(e){var t=e.left,a=e.right;return r.a.createElement("div",{className:ze.a.topBar},t,a)},We=function(e){var t=e.history,a=ye(ie),c=Object(v.a)(a,3),l=c[0],o=c[1],i=c[2],u=Object(n.useState)(null),s=Object(v.a)(u,2),m=s[0],d=s[1],f=Object(n.useMemo)((function(){return Object(E.find)(l,["id",m])}),[m]),b=Object(n.useState)(l||[]),h=Object(v.a)(b,2),j=h[0],w=h[1],C=Ie(),k=Object(v.a)(C,3),y=k[0],I=k[1],N=k[2];Object(n.useEffect)((function(){Object(E.find)(j,["id",m])||d(null)}),[j]);var S=function(e){return function(){return d(m===e?null:e)}},L=function(e){return function(){return t.push("/salads/".concat(e))}},B=function(e){return Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(e);case 2:t.sent&&i();case 4:case"end":return t.stop()}}),t)})))};return r.a.createElement(Ee,{title:"SALADS",tools:r.a.createElement(He,{left:r.a.createElement("div",{className:xe.a.newBtn},r.a.createElement(x.a,{icon:"add",label:{basic:!0,content:"New salad"},labelPosition:"right",onClick:function(){return t.push("/salads/new")}})),right:r.a.createElement(oe,{data:l,storeFilteredData:w,filterFn:ke})}),bottomLeft:o?r.a.createElement(Re,null):r.a.createElement("div",{className:xe.a.items},j&&j.length?r.a.createElement(O.a.Group,{divided:!0},j.map((function(e,t){var a=e.id,n=e.name,c=e.ingredients,l=e.tags;return r.a.createElement(X,{key:a,title:n,tags:l,onClick:S(a),activeClassName:m===a?xe.a.active:"",onMouseEnter:I(a),onMouseLeave:N,image:[Oe.a,_e.a][t%2],description:c.length?"Ingredients: ".concat(c.map((function(e){return e.name})).join(", ")):"No ingredients",statistic:c.reduce((function(e,t){return e+t.calories}),0),hovered:y===a,onEdit:L(a),onDelete:B(a)})}))):r.a.createElement(qe,{filteredData:j,data:l,itemName:"salad"})),bottomRight:f&&r.a.createElement("div",null,r.a.createElement(_.a,null,f.name),f.ingredients.length?r.a.createElement(Z,{activeSalad:f}):r.a.createElement("div",null,"No ingredients"))})},Xe=a(28),Ge=a.n(Xe),Je=function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/ingredients");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/ingredients/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/ingredients",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(g.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/ingredients/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/ingredients/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=a(256),Ye=a(72),$e=function(e,t){return Object(E.find)(t,["id",e])};var et=function(e,t){var a=Object(n.useState)([]),r=Object(v.a)(a,2),c=r[0],l=r[1];Object(n.useEffect)((function(){t&&l(t)}),[t]);var o=function(e){return!!$e(e,c)};return[c,o,function(t){return function(){var a=Object(Ye.a)(c.map((function(e){return Object(Ze.a)({},e)}))),n=$e(t,e);o(t)?Object(E.remove)(a,(function(e){return e.id===t})):a.push(n),l(a)}}]},tt=function(e,t){var a=t.searchTerm,n=t.tagFilter,r=t.filterBy,c=t.sortType;return e.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).filter((function(e){var t=e.tags;return!n||t.includes(n)})).sort((function(e,t){var a=0;if("calories"===r)a=c===ne?e.calories-t.calories:t.calories-e.calories;else{var n=e.name.toLowerCase(),l=t.name.toLowerCase();a=c===ne?n.localeCompare(l):l.localeCompare(n)}return a}))},at=a(160),nt=a.n(at),rt=function(e){var t=e.backBtnText,a=e.onBack,n=e.onSave,c=e.saving,l=e.saveDisabled;return r.a.createElement("div",{className:nt.a.formButtons},r.a.createElement(x.a,{icon:"arrow left",label:{basic:!0,content:t},labelPosition:"right",onClick:a}),r.a.createElement(x.a,{icon:"save outline",disabled:l,label:{basic:!0,content:"Save"},onClick:n,loading:c,labelPosition:"left",className:nt.a.saveBtn}))},ct=a(251),lt=a.n(ct),ot=function(e){var t=e.infoPieces;return r.a.createElement(be.a,{columns:1,className:lt.a.grid},t.map((function(e){return r.a.createElement(be.a.Row,{key:e.textParts.join()},r.a.createElement(be.a.Column,null,r.a.createElement(Te.a,{basic:!0},e.textParts.map((function(t,a){var c=t;return a===e.accentPart&&(c=r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",null,t)," ")),r.a.createElement(n.Fragment,{key:t},c)})))))})))},it=a(154),ut=a.n(it),st=a(252),mt=a.n(st),dt=function(e){var t=e.checkboxDisabled,a=e.checked,n=e.onChange,c=e.image,l=e.name,o=e.tags,i=e.calories;return r.a.createElement(Te.a,null,r.a.createElement(be.a,{columns:"equal"},r.a.createElement(be.a.Column,{width:1,textAlign:"center",verticalAlign:"middle"},r.a.createElement(ut.a,{disabled:t,checked:a,onChange:n})),r.a.createElement(be.a.Column,{width:1,className:mt.a.imageColumn},r.a.createElement(V.a,{src:c,rounded:!0})),r.a.createElement(be.a.Column,null,r.a.createElement(be.a.Row,null,r.a.createElement(_.a,null,l)),r.a.createElement(be.a.Row,null,o.map((function(e){return r.a.createElement(I.a,{key:e},e)})))),r.a.createElement(be.a.Column,{textAlign:"right",verticalAlign:"middle"},r.a.createElement(q,{size:"mini",num:i}))))};dt.defaultProps={checkboxDisabled:!1};var ft=dt,bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object(n.useState)(t),c=Object(v.a)(r,2),l=c[0],o=c[1],i=Object(n.useState)(e),u=Object(v.a)(i,2),s=u[0],m=u[1];Object(n.useEffect)((function(){[null,void 0].includes(a)||(o([].concat(Object(Ye.a)(a.map((function(e){return{key:e,value:e,text:e}}))),Object(Ye.a)(l))),m(a))}),[a]);var d=function(e,t){var a=t.value;return o([{text:a,value:a}].concat(Object(Ye.a)(l)))},f=function(e,t){var a=t.value;return m(a)};return[s,f,l,d]};var pt=function(e,t){var a=Object(n.useState)(!1),r=Object(v.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){l(Object(E.isEqual)(t,e))}),[t,e]),c},gt=a(255);var vt=function(e){var t=Object(n.useState)({}),a=Object(v.a)(t,2),r=a[0],c=a[1];return Object(gt.a)((function(){Object(E.isEmpty)(r)||c({})}),[e]),[r,function(){var t=!0,a={};return Object.keys(e).forEach((function(n){e[n]||(a[n]=!0,t=!1)})),c(a),t}]},Et=a(117),ht=a.n(Et),Ot=function(e){var t=e.history,a=e.mode,c=e.data,l=e.loading,o=ye(Je),i=Object(v.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(u||[]),d=Object(v.a)(m,2),f=d[0],b=d[1],h=ae("",Object(E.get)(c,"name")),O=Object(v.a)(h,2),j=O[0],_=O[1],w=bt([],[{key:"1",text:"gluten-free",value:"gluten-free"}],Object(E.get)(c,"tags")),x=Object(v.a)(w,4),C=x[0],k=x[1],y=x[2],I=x[3],N=et(u,Object(E.get)(c,"ingredients")),S=Object(v.a)(N,3),L=S[0],P=S[1],F=S[2],R=pt({name:Object(E.get)(c,"name",""),tags:Object(E.get)(c,"tags",[]),ingredients:Object(E.get)(c,"ingredients",[])},{name:j,tags:C,ingredients:L}),D=vt({name:j}),T=Object(v.a)(D,2),M=T[0],q=T[1],A=function(){return t.push("/salads")},z=B(Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se({name:j,tags:C,ingredients:L}));case 1:case"end":return e.stop()}}),e)}))),A,q),H=Object(v.a)(z,2),W=H[0],X=H[1],G=B(Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",me({id:c.id,name:j,tags:C,ingredients:L}));case 1:case"end":return e.stop()}}),e)}))),A,q),J=Object(v.a)(G,2),Q=J[0],V=J[1],K=function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","edit"===a?V():X());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"create"===a?"New salad":"Edit salad",tools:r.a.createElement(rt,{backBtnText:"Salads",onBack:A,onSave:K,saving:W||Q,saveDisabled:R}),bottomRight:r.a.createElement(ot,{infoPieces:[{accentPart:1,textParts:["Multiple","name","is required. It doesn't have to be unique. It's required"]},{accentPart:1,textParts:["Multiple custom","tags","can be added and/or removed. Salads can be filtered by them. They are not required."]},{accentPart:0,textParts:["Ingrediens","can be added by clicking on a checkbox. They can be removed by unchecking. They are not required."]}]}),bottomLeft:r.a.createElement(be.a,{columns:1,className:ht.a.grid},r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Input,{label:"Name",required:!0,value:j,onChange:_,loading:l,disabled:l,error:M.name})))),r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Select,{loading:l,disabled:l,label:"Tags",value:C,options:y,search:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:I,onChange:k})))),r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(He,{left:r.a.createElement("div",{className:ht.a.ingredientsLabel},"Ingredients"),right:r.a.createElement(oe,{data:u,storeFilteredData:b,filterFn:tt})}),r.a.createElement(Te.a.Group,{className:ht.a.checkList},s?r.a.createElement(Re,null):r.a.createElement(r.a.Fragment,null,f.length?f.map((function(e){var t=e.id,a=e.name,n=e.image,c=e.tags,o=e.calories;return r.a.createElement(ft,{key:t,checkboxDisabled:l,checked:P(t),onChange:F(t),image:n,name:a,tags:c,calories:o})})):r.a.createElement(qe,{filteredData:f,data:Object(E.get)(c,"ingredients",[]),itemName:"ingredient"}))))))})};Ot.defaultProps={data:null,loading:null};var jt=Ot,_t=function(e){return r.a.createElement(jt,Object.assign({mode:"create"},e))},wt=function(e){var t=e.match,a=Object(D.a)(e,["match"]),n=ye(ue.bind(null,t.params.id)),c=Object(v.a)(n,2),l=c[0],o=c[1];return r.a.createElement(jt,Object.assign({mode:"edit",loading:o,data:l},a))},xt=a(161),Ct=a.n(xt),kt=function(e){var t=e.history,a=ye(Je),c=Object(v.a)(a,3),l=c[0],o=c[1],i=c[2],u=Object(n.useState)(l||[]),s=Object(v.a)(u,2),m=s[0],d=s[1],f=Ie(),b=Object(v.a)(f,3),E=b[0],h=b[1],j=b[2],_=function(e){return function(){return t.push("/ingredients/".concat(e))}},w=function(e){return Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue(e);case 2:t.sent&&i();case 4:case"end":return t.stop()}}),t)})))};return r.a.createElement(Ee,{title:"Ingredients",tools:r.a.createElement(He,{left:r.a.createElement("div",{className:Ct.a.newBtn},r.a.createElement(x.a,{icon:"add",label:{basic:!0,content:"New ingredient"},labelPosition:"right",onClick:function(){return t.push("/ingredients/new")}})),right:r.a.createElement(oe,{data:l,storeFilteredData:d,filterFn:tt})}),bottom:o?r.a.createElement(Re,null):r.a.createElement("div",{className:Ct.a.items},m&&m.length?r.a.createElement(O.a.Group,{divided:!0},m.map((function(e){var t=e.id,a=e.name,n=e.image,c=e.tags,l=e.calories;return r.a.createElement(X,{key:t,onMouseEnter:h(t),onMouseLeave:j,image:n,title:a,statistic:l,tags:c,hovered:E===t,onEdit:_(t),onDelete:w(t)})}))):r.a.createElement(qe,{filteredData:m,data:l,itemName:"ingredient"}))})},yt=a(253),It=a.n(yt),Nt=function(e){var t=e.history,a=e.mode,n=e.data,c=e.loading,l=ae("",Object(E.get)(n,"name")),o=Object(v.a)(l,2),i=o[0],u=o[1],s=bt([],[{key:"1",text:"gluten-free",value:"gluten-free"}],Object(E.get)(n,"tags")),m=Object(v.a)(s,4),d=m[0],f=m[1],b=m[2],h=m[3],O=ae("",Object(E.get)(n,"image")),j=Object(v.a)(O,2),_=j[0],w=j[1],x=ae("",Object(E.get)(n,"calories")),C=Object(v.a)(x,2),k=C[0],y=C[1],I=vt({name:i,image:_,calories:k}),N=Object(v.a)(I,2),S=N[0],L=N[1],P=pt({name:Object(E.get)(n,"name",""),tags:Object(E.get)(n,"tags",[]),image:Object(E.get)(n,"image",""),calories:Object(E.get)(n,"calories","")},{name:i,tags:d,image:_,calories:parseInt(k,10)||0===parseInt(k,10)?parseInt(k,10):""}),F=function(){return t.push("/ingredients")},R=B(Object(g.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,r={name:i,tags:d,image:_,calories:parseInt(k,10)},"edit"!==a||!n){e.next=8;break}return e.next=5,Ke(n.id,r);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Ve(r);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),F,L),D=Object(v.a)(R,2),T=D[0],M=D[1];return r.a.createElement(Ee,{title:"create"===a?"New ingredient":"Edit ingredient",tools:r.a.createElement(rt,{backBtnText:"Ingredients",onBack:F,onSave:M,saving:T,saveDisabled:P}),bottomRight:r.a.createElement(ot,{infoPieces:[{accentPart:1,textParts:["Ingredient","name","is required. It doesn't have to be unique. It's required"]},{accentPart:1,textParts:["Multiple custom","tags","can be added and/or removed. Ingredients can be filtered by them. They are not required."]},{accentPart:1,textParts:["Link to the ingredient","image","is required."]},{accentPart:1,textParts:["Ingredient","calories","is required. Only numbers are acceptable."]}]}),bottomLeft:r.a.createElement(be.a,{columns:1,className:It.a.form},r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Input,{label:"Name",required:!0,value:i,onChange:u,loading:c,disabled:c,error:S.name})))),r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Select,{loading:c,disabled:c,label:"Tags",value:d,options:b,search:!0,selection:!0,multiple:!0,allowAdditions:!0,onAddItem:h,onChange:f})))),r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Input,{required:!0,label:"Image (link)",value:_,onChange:w,loading:c,disabled:c,error:S.image})))),r.a.createElement(be.a.Row,null,r.a.createElement(be.a.Column,null,r.a.createElement(Ge.a,null,r.a.createElement(Ge.a.Input,{required:!0,label:"Calories",type:"number",value:k,onChange:y,loading:c,disabled:c,error:S.calories})))))})};Nt.defaultProps={data:null,loading:null};var St=Nt,Lt=function(e){return r.a.createElement(St,Object.assign({mode:"create"},e))},Bt=function(e){var t=e.match,a=Object(D.a)(e,["match"]),n=ye(Qe.bind(null,t.params.id)),c=Object(v.a)(n,2),l=c[0],o=c[1];return r.a.createElement(St,Object.assign({mode:"edit",loading:o,data:l},a))},Pt=a(75),Ft=a.n(Pt),Rt=a(254),Dt=a.n(Rt),Tt=a(74),Mt=a.n(Tt),qt=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundImage:"url(".concat(Dt.a,")")},className:Mt.a.topTapeImage}),r.a.createElement(f.a,null,r.a.createElement(Ft.a,{secondary:!0,className:Mt.a.menubar},r.a.createElement(Ft.a.Item,null,r.a.createElement(_.a,{as:"h3"},r.a.createElement("span",{className:Mt.a.firstColor},"Mind"),r.a.createElement("span",{className:Mt.a.secondColor},"salad"),r.a.createElement("span",{className:Mt.a.thirdColor},"bar"))),r.a.createElement(Ft.a.Menu,{position:"right"},r.a.createElement(Ft.a.Item,{as:s.b,to:"/salads"},"Salads"),r.a.createElement(Ft.a.Item,{as:s.b,to:"/ingredients"},"Ingredients")))))},At=function(){return r.a.createElement(s.a,null,r.a.createElement(qt,null),r.a.createElement("main",null,r.a.createElement(f.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/salads/new",component:_t}),r.a.createElement(m.b,{exact:!0,path:"/salads/:id",component:wt}),r.a.createElement(m.b,{exact:!0,path:"/salads",component:We}),r.a.createElement(m.b,{exact:!0,path:"/ingredients/new",component:Lt}),r.a.createElement(m.b,{exact:!0,path:"/ingredients/:id",component:Bt}),r.a.createElement(m.b,{exact:!0,path:"/ingredients",component:kt}),r.a.createElement(m.a,{from:"/",to:"/salads"})))))},zt=function(){var e=Object(n.useRef)(!1),t=Object(n.useState)(null),a=Object(v.a)(t,2),r=a[0],c=a[1],l=function(){e.current=!1,c(null)};Object(n.useEffect)((function(){r&&!e.current&&(e.current=!0,Object(u.toast)(function(e){switch(e){case"error":return{type:"error",title:"Error",description:"Unknown server error",animation:"fly left",time:0,onClose:l};case"create":return{type:"success",title:"Success",description:"Successfully added",animation:"fly right",time:2e3,onClose:l};case"edit":return{type:"success",title:"Success",description:"Successfully updated",animation:"fly right",time:2e3,onClose:l};case"not-found":return{type:"error",title:"Not found",description:"Page not found",animation:"fly right",time:2e3,onClose:l};default:return null}}(r)),c(null))}),[r]);return function(e){return c(e)}},Ht=(a(538),function(){var e=zt();return Object(n.useEffect)((function(){i.a.interceptors.response.use((function(t){return"put"===t.config.method&&200===t.status&&e("edit"),201===t.status&&e("create"),t}),(function(){return e("error")}))}),[]),r.a.createElement("div",null,r.a.createElement(At,null),r.a.createElement(u.SemanticToastContainer,{position:"bottom-left"}))});a(539),a(540);l.a.render(r.a.createElement(Ht,null),document.getElementById("root"))},73:function(e,t,a){e.exports={hover:"ListItem_hover__1566F",image:"ListItem_image__39koy",item:"ListItem_item__1IMXE",icons:"ListItem_icons__3u6jx",deleteIcon:"ListItem_deleteIcon__2w5IR"}},74:function(e,t,a){e.exports={menubar:"MenuBar_menubar__3rmT6",topTapeImage:"MenuBar_topTapeImage__lAHkH",firstColor:"MenuBar_firstColor__2ZwOH",secondColor:"MenuBar_secondColor__2zLWO",thirdColor:"MenuBar_thirdColor__QhXw-"}}},[[268,1,2]]]);
//# sourceMappingURL=main.4d95772b.chunk.js.map